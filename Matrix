#include <stdio.h>
#define MAX 100

int matrix[MAX][MAX], sparse[MAX][3];
int rows, cols;

void readMatrix() {
    printf("Enter number of rows: ");
    scanf("%d", &rows);
    printf("Enter number of columns: ");
    scanf("%d", &cols);

    printf("Enter the matrix elements:\n");
    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < cols; j++) {
            scanf("%d", &matrix[i][j]);
        }
    }
}

void displayMatrix() {
    printf("Matrix elements:\n");
    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < cols; j++) {
            printf("%d ", matrix[i][j]);
        }
        printf("\n");
    }
}

void convertToSparse() {
    int k = 0;
    sparse[0][0] = rows;
    sparse[0][1] = cols;
    sparse[0][2] = 0;

    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < cols; j++) {
            if (matrix[i][j] != 0) {
                k++;
                sparse[k][0] = i;
                sparse[k][1] = j;
                sparse[k][2] = matrix[i][j];
            }
        }
    }
    sparse[0][2] = k;

    printf("\nSparse matrix representation (row, column, value):\n");
    for (int i = 0; i <= k; i++) {
        printf("%d\t%d\t%d\n", sparse[i][0], sparse[i][1], sparse[i][2]);
    }
}

int main() {
    int choice;

    while (1) {
        printf("\n---- MENU ----\n");
        printf("1. Enter Matrix\n");
        printf("2. Display Matrix\n");
        printf("3. Convert to Sparse Matrix\n");
        printf("4. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &choice);

        switch (choice) {
        case 1:
            readMatrix();
            break;
        case 2:
            displayMatrix();
            break;
        case 3:
            convertToSparse();
            break;
        case 4:
            printf("Exiting program.\n");
            return 0;
        default:
            printf("Invalid choice! Try again.\n");
        }
    }
}
